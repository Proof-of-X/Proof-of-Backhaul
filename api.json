{
  "openapi": "3.0.2",
  "info": {
    "title": "Proof of X",
    "version": "1.0"
  },
  "paths": {
    "/{proof_type}/pre-login": {
      "post": {
        "tags": [
          "Session"
        ],
        "description": "-----\n\n\tThis API is to be called before logging in.\n\n\tIt will return a 'message' that has to be signed and sent to '/login' API.\n\n\tThis will also create a cookie;\n\n\thence the '/login' API must be called in a session.",
        "operationId": "ApiPreLogin",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PreloginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "200 response",
            "headers": {
              "Set-Cookie": {
                "description": "-----\n\t\tThe cookie that is to be sent to '/login' API\n\n\t\tThe name of the cookies are:\n\t\t\t'__Secure-session' and '__Secure-session.sig'",
                "required": true,
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PreloginResponse"
                }
              }
            }
          },
          "400": {
            "description": "400 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/login": {
      "post": {
        "tags": [
          "Session"
        ],
        "description": "-----\n\n\tThis API logs in the user.\n\n\tThe user should send the 'message' that was received during the '/pre-login';\n\n\tand must sign the 'message' using privateKey.\n\n\tAnd send it in the 'signature' field.",
        "operationId": "ApiLogin",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/pre-login' API.\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "200 response",
            "headers": {
              "Set-Cookie": {
                "description": "-----\n\tthe cookie after successful login.\n\tit must be presented for next api calls.",
                "required": true,
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "400 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          },
          "401": {
            "description": "401 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          },
          "402": {
            "description": "402 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StakingResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/user-info": {
      "post": {
        "tags": [
          "General Information"
        ],
        "description": "-----\n\n\tGet logged in user information.",
        "operationId": "ApiUserInfo",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserInfoResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/logout": {
      "post": {
        "tags": [
          "Session"
        ],
        "description": "-----\n\n\tLogs out the user.",
        "operationId": "ApiLogout",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/prover": {
      "post": {
        "tags": [
          "Prover Information"
        ],
        "description": "-----\n\n\tGet information about a prover.",
        "operationId": "ApiProver",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProverRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProverResponse"
                }
              }
            }
          },
          "400": {
            "description": "400 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          },
          "401": {
            "description": "401 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/provers": {
      "post": {
        "tags": [
          "Prover Information"
        ],
        "description": "-----\n\tGet all provers info.",
        "operationId": "ApiProvers",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProversRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProversResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "401 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/challenge-request": {
      "post": {
        "tags": [
          "PoB Challenge"
        ],
        "description": "-----\n\n\tRequest to create a new challenge.\n\n\tBefore calling this api 'startChallenge()' smart contract must be called.\n\n\tAnd the 'transaction' after calling the 'startChallenge' must be provided.",
        "operationId": "ApiChallengeRequest",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChallengeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChallengeResponse"
                }
              }
            }
          },
          "400": {
            "description": "400 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          },
          "401": {
            "description": "401 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/challenge-status": {
      "post": {
        "tags": [
          "PoB Challenge"
        ],
        "description": "-----\n\tGet the status of a given challenge.",
        "operationId": "ApiChallengeStatus",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChallengeStatusRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChallengeStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "400 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          },
          "401": {
            "description": "401 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/challenge-result": {
      "post": {
        "tags": [
          "PoB Challenge"
        ],
        "description": "-----\n\tPost the results of a challenge.",
        "operationId": "ApiChallengeResult",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChallengeResultRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "400 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          },
          "401": {
            "description": "401 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/claims": {
      "post": {
        "tags": [
          "Claims"
        ],
        "description": "-----\n\tClaim that the 'user' has certain claims",
        "operationId": "ApiClaimBandwidth",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "400 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          },
          "401": {
            "description": "401 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/ws": {
      "get": {
        "tags": [
          "Websocket for Heartbeat and Notifications"
        ],
        "description": "-----\n\tA websocket connection for:\n\n\t\t1. Sending heartbeat (websocket ping).\n\t\t2. Receiving notification regarding challenges.",
        "operationId": "ApiHeartbeat",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "101": {
            "description": "-----\n\n\tThis opens up a websocket connection.\n\n\tThis response is the successful response.",
            "headers": {
              "Upgrade": {
                "required": true,
                "schema": {
                  "type": "string",
                  "enum": [
                    "websocket"
                  ]
                }
              },
              "Connection": {
                "required": true,
                "schema": {
                  "type": "string",
                  "enum": [
                    "Upgrade"
                  ]
                }
              }
            }
          },
          "201": {
            "description": "-----\n\n\tThis message is sent to a 'prover' through websocket when a challenge\n\n\thas been scheduled\n\n\t// ignore the status code '201' given here.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChallengeInfoForProver"
                }
              }
            }
          },
          "202": {
            "description": "-----\n\n\tThis message is sent to a 'challenger' through websocket when a challenge\n\n\thas been scheduled\n\n\t// ignore the status code '202' given here.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChallengeInfoForChallenger"
                }
              }
            }
          },
          "401": {
            "description": "401 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FailureResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/ip-info": {
      "post": {
        "tags": [
          "General Information"
        ],
        "description": "-----\n\n\tGet user's IP addresses as seen by the challenge co-ordinator",
        "operationId": "ApiIPInfo",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IPInfoResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/statistics": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "description": "-----\n\n\tGet PoB statistics on 'provers' and 'challengers'.",
        "operationId": "ApiStatistics",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatisticsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/{proof_type}/release-info": {
      "post": {
        "tags": [
          "General Information"
        ],
        "description": "-----\n\n\tGet the latest released version information on various software",
        "operationId": "ApiReleaseInfo",
        "parameters": [
          {
            "name": "proof_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Cookie",
            "in": "header",
            "description": "-----\n\tThe cookie that was received after calling '/login' API\n\n\tThe name of the cookies are:\n\t\t'__Secure-session' and '__Secure-session.sig'",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "200 response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReleaseInfoResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "WalletPublicKey": {
        "type": "object",
        "properties": {
          "solana": {
            "type": "string",
            "description": "-----\n\tThe 'solana' wallet public key"
          },
          "ethereum": {
            "type": "string",
            "description": "-----\n\tThe 'ethereum' wallet public key"
          }
        },
        "required": [
          "solana",
          "ethereum"
        ]
      },
      "PreloginRequest": {
        "type": "object",
        "properties": {
          "publicKey": {
            "type": "string",
            "description": "-----\n\tThe key used for login\n\tNOTE: when using 'ethereum' the 'publicKey = Address'"
          },
          "proof_type": {
            "type": "string",
            "description": "-----\n\tThe kind of proof the user wishes to participate in.\n\tValid values are : \"pob\" and \"pol\""
          },
          "walletPublicKey": {
            "$ref": "#/components/schemas/WalletPublicKey"
          },
          "keyType": {
            "type": "string",
            "enum": [
              "solana"
            ],
            "description": "-----\n\tThe key-type of publicKey.\n\n\tAs of now these are supported keyTypes:\n\t\t1. solana\n\t\t2. ethereum"
          },
          "role": {
            "type": "string",
            "enum": [
              "prover",
              "challenger",
              "payer"
            ],
            "description": "-----\n \tThe role the user intends to play after login:\n\n\t\t1. prover\n\t\t\tUser who wants to prove what it offers to the network.\n\n\t\t\tExample: 'bandwidth', 'latency', 'disk', 'cpu' etc.\n\n\t\t2. challenger\n\t\t\tUser who wants to challenge a 'prover'\n\t\t\tand earn rewards.\n\n\t\t3. payer\n\t\t\tAn abstract entity/user who pays\n\t\t\tand requests for a challenge.\n\n\t\t\tA payer could be:\n\t\t\tthe 'prover' itself, other users, or the blockchain."
          },
          "projectName": {
            "type": "string",
            "description": "-----\n\tIf the user is also part of another blockchain project/app,\n\n\tthen the project-name/app-name can be provided here.\n\n\t\te.g. \"filecoin\", \"filecoin-station\", \"oort\", etc."
          },
          "projectPublicKey": {
            "type": "string",
            "description": "-----\n\tpublicKey of the user associated with the\n\n\t'projectName' blockchain project/app."
          },
          "claims": {
            "type": "object",
            "properties": {
              "{claim-parameter}": {
                "oneOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer",
                    "format": "int32"
                  },
                  {
                    "type": "number",
                    "format": "float"
                  }
                ]
              }
            },
            "required": [
              "{claim-parameter}"
            ],
            "description": "-----\n\tAll claims.\n\tclaims is dependent on proof_type,\n\n\tExample: for pob it could be:\n\t\t{\t\n\t\t\tbandwidth : Float; // The bandwidth in Mbps the user wants to claim\n\t\t}"
          }
        },
        "required": [
          "publicKey",
          "proof_type",
          "keyType",
          "role",
          "claims"
        ]
      },
      "PreloginResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "-----\n\tA string to be signed using user's 'privateKey' to create a 'signature'.\n\n\tThis 'signature' should be later sent in the '/login' API to login."
              }
            },
            "required": [
              "message"
            ]
          }
        },
        "required": [
          "result"
        ]
      },
      "FailureResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string"
              }
            },
            "required": [
              "message"
            ],
            "description": "-----\n\tThe 'error.message' contains the reason for the failure."
          }
        },
        "required": [
          "error"
        ]
      },
      "LoginRequest": {
        "type": "object",
        "properties": {
          "signature": {
            "type": "string",
            "description": "-----\n\tThe signature afer signing the 'message' with the 'privateKey'.\n\n\tThe signature can be created using MetaMask/Phantom wallet.\n\n\tThese signatures are generated through certain wallets/APIs.\n    \te.g.\n        \t1. Wallets in browser (Metamask / Phantom)\n\n        \t2. Dart\n            \t\t(https://pub.dev/packages/eth_sig_util)\n\n        \t3. Python\n            \t\t(https://pypi.org/project/eth-account/)\n\n\tin Python it can be created as:\n\n\t\tfrom eth_account.messages import encode_defunct\n\t\tfrom eth_account import Account\n\n\t\tkey=\"<PRIVATE_KEY_TO_SIGN_MESSAGE>\"\n\n\t\tmsg=\"<Message received from the pre-login response>\"\n\t\tmsghash = encode_defunct(text=msg)\n\n\t\tsignature = Account.sign_message(msghash, key)"
          }
        },
        "required": [
          "signature"
        ]
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "success": {
                "type": "boolean"
              }
            },
            "required": [
              "success"
            ],
            "description": "-----\n\tSuccessful response always has a valid 'result'."
          }
        },
        "required": [
          "result"
        ]
      },
      "StakingResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string"
              }
            },
            "required": [
              "message"
            ],
            "description": "-----\n\tThe failure due to requirement of 'payment' or 'staking'.\n\n\tThe 'error.message' contains the reason for the failure."
          }
        },
        "required": [
          "error"
        ]
      },
      "UserInfoResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "-----\n\n\twill return 'null' if the user has not logged in"
              },
              "publicKey": {
                "type": "string"
              },
              "keyType": {
                "type": "string"
              },
              "city": {
                "type": "string"
              },
              "region": {
                "type": "string"
              },
              "country": {
                "type": "string"
              }
            },
            "required": [
              "id",
              "publicKey",
              "keyType",
              "city",
              "region",
              "country"
            ]
          }
        },
        "required": [
          "result"
        ]
      },
      "ProverRequest": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "-----\n \tThe 'id' of the prover."
          }
        },
        "required": [
          "id"
        ]
      },
      "GeoIP": {
        "type": "object",
        "properties": {
          "range": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            }
          },
          "country": {
            "type": "string"
          },
          "region": {
            "type": "string"
          },
          "eu": {
            "type": "string",
            "enum": [
              "0",
              "1"
            ]
          },
          "timezone": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "ll": {
            "type": "array",
            "items": {
              "type": "number",
              "format": "float"
            }
          },
          "metro": {
            "type": "integer",
            "format": "int32"
          },
          "area": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "range",
          "country",
          "region",
          "eu",
          "timezone",
          "city",
          "ll",
          "metro",
          "area"
        ]
      },
      "Result": {
        "type": "object"
      },
      "ChallengeResult": {
        "type": "object",
        "properties": {
          "result": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Result"
            }
          },
          "message": {
            "type": "string"
          },
          "signature": {
            "type": "string"
          },
          "challenger": {
            "type": "string"
          },
          "challenge_start_time": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "result",
          "message",
          "signature",
          "challenger",
          "challenge_start_time"
        ]
      },
      "ProverDetails": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "-----\n\tThe unique 'id' of the prover."
          },
          "geoip": {
            "$ref": "#/components/schemas/GeoIP"
          },
          "claims": {
            "type": "object",
            "properties": {
              "{claim-parameter}": {
                "oneOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer",
                    "format": "int32"
                  },
                  {
                    "type": "number",
                    "format": "float"
                  }
                ]
              }
            },
            "required": [
              "{claim-parameter}"
            ],
            "description": "-----\n\tMap of claims"
          },
          "last_alive": {
            "type": "string",
            "format": "date-time",
            "description": "-----\n\tThe latest time when the API server received a handshake from the prover."
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChallengeResult"
            },
            "description": "-----\n \tThe history of challenge results the proved has participated in."
          }
        },
        "required": [
          "id",
          "geoip",
          "claims",
          "last_alive",
          "results"
        ]
      },
      "ProverResponse": {
        "type": "object",
        "properties": {
          "result": {
            "$ref": "#/components/schemas/ProverDetails"
          }
        },
        "required": [
          "result"
        ]
      },
      "ProversRequest": {
        "type": "object",
        "properties": {
          "skil": {
            "type": "integer",
            "format": "int32"
          },
          "limit": {
            "type": "integer",
            "format": "int32"
          }
        },
        "required": [
          "skil",
          "limit"
        ]
      },
      "ProversResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "provers": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ProverDetails"
                }
              }
            },
            "required": [
              "provers"
            ]
          }
        },
        "required": [
          "result"
        ]
      },
      "ChallengeRequest": {
        "type": "object",
        "properties": {
          "prover": {
            "type": "string",
            "description": "-----\n \tThe 'id' of the prover."
          },
          "transaction": {
            "type": "string",
            "description": "-----\n \tThe transaction that was generated after calling the\n\t'startChallenge' smart contract."
          }
        },
        "required": [
          "prover",
          "transaction"
        ]
      },
      "ChallengeResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "challenge_id": {
                "type": "string"
              },
              "challenge_status": {
                "type": "string",
                "enum": [
                  "SUBMITTED_TO_CHALLENGE_COORDINATOR",
                  "ACCEPTED_BY_CHALLENGE_COORDINATOR",
                  "ERROR_NOT_ENOUGH_CHALLENGERS",
                  "ENDED_SUCCESSFULLY"
                ]
              }
            },
            "required": [
              "challenge_id",
              "challenge_status"
            ]
          }
        },
        "required": [
          "result"
        ]
      },
      "ChallengeStatusRequest": {
        "type": "object",
        "properties": {
          "transaction": {
            "type": "string",
            "description": "-----\n \tThe transaction that was generated after calling the\n\t'startChallenge' smart contract."
          }
        },
        "required": [
          "transaction"
        ]
      },
      "ChallengeStatusResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "challenge_id": {
                "type": "string"
              },
              "start_challenge_transaction": {
                "type": "string"
              },
              "end_challenge_transaction": {
                "type": "string"
              },
              "challenge_status": {
                "type": "string",
                "enum": [
                  "SUBMITTED_TO_CHALLENGE_COORDINATOR",
                  "ACCEPTED_BY_CHALLENGE_COORDINATOR",
                  "ERROR_NOT_ENOUGH_CHALLENGERS",
                  "ENDED_SUCCESSFULLY"
                ]
              }
            },
            "required": [
              "challenge_id",
              "start_challenge_transaction",
              "challenge_status"
            ]
          }
        },
        "required": [
          "result"
        ]
      },
      "ChallengeResultRequest": {
        "type": "object",
        "properties": {
          "message_type": {
            "type": "string",
            "enum": [
              "challenge_result"
            ]
          },
          "message": {
            "type": "string",
            "description": "-----\n\tThe result of a challenge - a JSON converted to a string.\n\n\te.g. in JavaScript:\n\n\t\tmessage = JSON.stringify ({\n\t\t\tchallenge_id,\n\t\t\tresult,\n\t\t});\n\n\tThe result contains fields that have been measured\n\n\tby the challenger:\n\n\t\tlike \"bandwidth\" and \"latency\"."
          },
          "signature": {
            "type": "string",
            "description": "-----\n\tThe 'message' string signed using privateKey."
          }
        },
        "required": [
          "message_type",
          "message",
          "signature"
        ]
      },
      "Challenger": {
        "type": "object",
        "properties": {
          "ip": {
            "type": "string"
          },
          "publicKey": {
            "type": "string"
          }
        },
        "required": [
          "ip",
          "publicKey"
        ]
      },
      "ChallengeInfoForProver": {
        "type": "object",
        "properties": {
          "message_type": {
            "type": "string",
            "enum": [
              "challenge_for_prover"
            ]
          },
          "message": {
            "type": "object",
            "properties": {
              "challenge_id": {
                "type": "string"
              },
              "challenge_start_time": {
                "type": "string",
                "format": "date-time"
              },
              "challenge_timeout": {
                "type": "string",
                "format": "date-time"
              },
              "challengers": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Challenger"
                }
              },
              "max_packets_per_challenger": {
                "type": "integer",
                "format": "int32"
              },
              "total_num_packets_for_challenge": {
                "type": "integer",
                "format": "int32"
              }
            },
            "required": [
              "challenge_id",
              "challenge_start_time",
              "challenge_timeout",
              "challengers",
              "max_packets_per_challenger",
              "total_num_packets_for_challenge"
            ]
          },
          "signature": {
            "type": "string"
          }
        },
        "required": [
          "message_type",
          "message",
          "signature"
        ]
      },
      "Prover": {
        "type": "object",
        "properties": {
          "ip": {
            "type": "string"
          },
          "publicKey": {
            "type": "string"
          }
        },
        "required": [
          "ip",
          "publicKey"
        ]
      },
      "ChallengeInfoForChallenger": {
        "type": "object",
        "properties": {
          "message_type": {
            "type": "string",
            "enum": [
              "challenge_for_challenger"
            ]
          },
          "message": {
            "type": "object",
            "properties": {
              "challenge_id": {
                "type": "string"
              },
              "prover": {
                "$ref": "#/components/schemas/Prover"
              },
              "challenge_start_time": {
                "type": "string",
                "format": "date-time"
              },
              "challenge_timeout": {
                "type": "string",
                "format": "date-time"
              },
              "num_packets": {
                "type": "integer",
                "format": "int32"
              },
              "rate_of_packets_mbps": {
                "type": "number",
                "format": "float"
              },
              "total_num_packets_for_challenge": {
                "type": "integer",
                "format": "int32"
              }
            },
            "required": [
              "challenge_id",
              "prover",
              "challenge_start_time",
              "challenge_timeout",
              "num_packets",
              "rate_of_packets_mbps",
              "total_num_packets_for_challenge"
            ]
          },
          "signature": {
            "type": "string"
          }
        },
        "required": [
          "message_type",
          "message",
          "signature"
        ]
      },
      "IPInfoResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "IPv4": {
                "type": "string",
                "nullable": true,
                "description": "-----\n\n\twill return 'null' if the specific IP version is not available"
              },
              "IPv6": {
                "type": "string",
                "nullable": true
              }
            },
            "required": [
              "IPv4",
              "IPv6"
            ]
          }
        },
        "required": [
          "result"
        ]
      },
      "StatisticsResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "online_provers": {
                "type": "integer",
                "format": "int32",
                "description": "-----\n\t'online_provers' are the number of provers currently online.\n\t'num_provers'    are the total number of provers registered."
              },
              "num_provers": {
                "type": "integer",
                "format": "int32"
              },
              "online_challenges": {
                "type": "integer",
                "format": "int32",
                "description": "-----\n\t'online_challenges' are the number of challengers currently online.\n\t'num_challengers'   are the total number of challengers registered."
              },
              "num_challengers": {
                "type": "integer",
                "format": "int32"
              }
            },
            "required": [
              "online_provers",
              "num_provers",
              "online_challenges",
              "num_challengers"
            ]
          }
        },
        "required": [
          "result"
        ]
      },
      "ReleaseInfoResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "object",
            "properties": {
              "pob_prover_client": {
                "type": "string",
                "description": "-----\n\t'_client' is for clients\n\t'_server' is for servers"
              },
              "pob_challenger_client": {
                "type": "string"
              }
            },
            "required": [
              "pob_prover_client",
              "pob_challenger_client"
            ]
          }
        },
        "required": [
          "result"
        ]
      }
    },
    "securitySchemes": {
      "SecurityHeader": {
        "type": "apiKey",
        "in": "header",
        "name": "Cookie"
      }
    }
  },
  "security": [
    {
      "SecurityHeader": []
    }
  ],
  "servers": [
    {
      "url": "https://api.witnesschain.com/"
    }
  ]
}